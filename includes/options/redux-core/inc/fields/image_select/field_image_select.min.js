!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.image_select=redux.field_objects.image_select||{},e(document).ready(function(){}),redux.field_objects.image_select.init=function(t){t||(t=e(document).find(".redux-group-tab:visible").find(".redux-container-image_select:visible")),e(t).each(function(){var t=e(this),i=t;t.hasClass("redux-field-container")||(i=t.parents(".redux-field-container:first")),i.is(":hidden")||i.hasClass("redux-field-init")&&(i.removeClass("redux-field-init"),t.find(".redux-image-select label img, .redux-image-select label .tiles, .redux-image-select label .single-design-labels .sdl").click(function(i){var s=e(this).closest("label").attr("for");if(e(this).parents("fieldset:first").find(".redux-image-select-selected").removeClass("redux-image-select-selected").find("input[type='radio']").attr("checked",!1),e(this).closest("label").find('input[type="radio"]').prop("checked"),e(this).closest("label").hasClass("redux-image-select-preset-"+s)){i.preventDefault();var l=e(this).closest("label").find("input"),r=l.data("presets"),d=l.data("merge");if(null!=d&&("string"===e.type(d)&&(d=d.split("|")),e.each(r,function(t,i){!0!==d&&-1==e.inArray(t,d)||"object"!==e.type(redux.options[t])||(r[t]=e.extend(redux.options[t],r[t]))})),null!=l)confirm(redux.args.preset_confirm)&&(t.find('label[for="'+s+'"]').addClass("redux-image-select-selected").find("input[type='radio']").attr("checked",!0),window.onbeforeunload=null,0===e("#import-code-value").length?e(this).append('<textarea id="import-code-value" style="display:none;" name="'+redux.args.opt_name+'[import_code]">'+JSON.stringify(r)+"</textarea>"):e("#import-code-value").val(JSON.stringify(r)),0!==e("#publishing-action #publish").length?e("#publish").click():e("#redux-import").click());return!1}t.find('label[for="'+s+'"]').addClass("redux-image-select-selected").find("input[type='radio']").attr("checked",!0).trigger("change"),redux_change(e(this).closest("label").find('input[type="radio"]'))}),t.find(".tiles").qtip({content:{text:function(t,i){return"<img src='"+e(this).attr("rel")+"' style='max-width:150px;' alt='' />"}},style:"qtip-tipsy",position:{my:"top center",at:"bottom center"}}))})}}(jQuery);